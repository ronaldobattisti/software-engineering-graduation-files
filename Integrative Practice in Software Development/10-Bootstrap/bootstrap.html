<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="/10-Bootstrap/styles.css">
</head>

<body class="container">
    <h2>Products Stock</h2>
    <table id="product_table" class="container">
        <thead>
            <th>Product code</th>
            <th>Product Description</th>
            <th>Proce (R$)</th>
            <th>Quantity</th>
        </thead>
        <tbody>
            <tr>
                <td>PROD0001</td>
                <td>Basic T-shirt</td>
                <td>80.00</td>
                <td>80</td>
            </tr>
            <tr>
                <td>PROD0002</td>
                <td>Jeans pants</td>
                <td>150.00</td>
                <td>10</td>
            </tr>
            <tr>
                <td>PROD0003</td>
                <td>Runners</td>
                <td>400.00</td>
                <td>20</td>
            </tr>
            <tr>
                <td>PROD0004</td>
                <td>Scholar Backpack</td>
                <td>120.00</td>
                <td>30</td>
            </tr>
        </tbody>
    </table>

    <form id="stock" class="container">
        <fieldset>
            <legend>Product Registration</legend>
            <table class="product_form container">
                <tr>
                    <td><label for="cd_prod">Prodict code: </label></td>
                    <td><input type="text" id="cd_prod" name="CD_PROD" required /></td>
                </tr>
                <tr>
                    <td><label for="desc_prod">Product description: </label></td>
                    <td><textarea id="desc_prod" name="desc_prod" required></textarea></td>
                </tr>
                <tr>
                    <td><label for="price">Price: </label></td>
                    <td><input type="number" id="price" name="price" step="0.01" required /></td>
                </tr>
                <tr>
                    <td><label for="quantity">Quantity in stock: </label></td>
                    <td><input type="number" id="quantity" name="quantity" required /></td>
                </tr>
                <tr>
                    <td><label for="products">Category: </label></td>
                    <td>
                        <select id="products">
                            <option value="shirt">Shirt</option>
                            <option value="runners" selected>Runners</option>
                            <option value="bag">Bag</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><label for="update_date">Regstration date: </label></td>
                    <td><input type="date" id="update_date" name="update_date" required /></td>
                </tr>
                <tr>
                    <td colspan="2" style="text-align: center;">
                        <input type="reset" value="Clear content">
                        <input id="register" value="Register">
                        <!--<button type="button" class="btn btn-primary">Primary</button>
                        <button type="button" class="btn btn-secondary">Secondary</button>-->
                    </td>
                </tr>
            </table>
        </fieldset>
    </form>
    <!-- Exemplo de botÃ£o danger dividido -->

</body>

<script>
    document.getElementById("register").addEventListener('click', function () {

        //get the forms data
        const cdProd = document.getElementById('cd_prod').value;
        if (cdProd == "") {
            alert("The product code have to be inputer");
            return
        }
        const descProd = document.getElementById('desc_prod').value;
        const price = document.getElementById('price').value;
        if (price <= 0) {
            alert("The price is lower than zero!");
            return;
        }
        const quant = document.getElementById('quantity').value;
        if (quant < 0) {
            alert("Quantity can not be negative!");
            return;
        }

        //Create a new line in the table
        const table = document.getElementById('product_table').getElementsByTagName("tbody")[0];
        const newLine = table.insertRow();

        //Adc the cells to the new line
        const codCell = newLine.insertCell(0).textContent = cdProd;
        const descCell = newLine.insertCell(1).textContent = descProd;
        const priceCell = newLine.insertCell(2).textContent = parseFloat(price).toFixed(2);
        const quantCell = newLine.insertCell(3).textContent = quant;

        //Clear Elements
        document.getElementById('stock').reset();
    })

</script>

</html>